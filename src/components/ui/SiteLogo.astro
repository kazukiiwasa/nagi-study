---
import LogoImage from "@/assets/logo.svg";
import siteConfig from "@/config/site.config.json";
import type { SiteConfig } from "@/types/index.d.ts";

interface Props {
  h1?: boolean;
  inverse?: boolean;
  class?: string;
}

const { h1, inverse, class: className, ...rest } = Astro.props;
const typedSiteConfig = siteConfig as SiteConfig;
const siteTitle = typedSiteConfig.site.title as string;
---

{
  h1 ? (
    <h1 class:list={["logo", className, { ...rest }]}>
      <a href="/" class="logo-link" aria-label={siteTitle}>
        <LogoImage
          color={inverse ? "var(--c-text-inverse)" : "var(--c-text)"}
        />
      </a>
    </h1>
  ) : (
    <div class:list={["logo", className, { ...rest }]}>
      <a href="/" class="logo-link" aria-label={siteTitle}>
        <LogoImage
          color={inverse ? "var(--c-text-inverse)" : "var(--c-text)"}
        />
      </a>
    </div>
  )
}

<style lang="scss">
  .logo {
    position: relative;
    display: inline-block;
    color: inherit;
    width: fit-content;
    z-index: var(--z-fixed);

    svg {
      width: 100%;
      height: 40px;
      object-fit: contain;

      @media (min-width: 900px) {
        height: 45px;
      }
    }
  }
</style>
